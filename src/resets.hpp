#include "address-map.hpp"
#include "int.hpp"

namespace resets {
struct ResetNum {
    enum : u32 {
        ADC        = 0b0000'0000'0000'0000'0000'0000'0000'0001,
        BUSCTRL    = 0b0000'0000'0000'0000'0000'0000'0000'0010,
        DMA        = 0b0000'0000'0000'0000'0000'0000'0000'0100,
        I2C0       = 0b0000'0000'0000'0000'0000'0000'0000'1000,
        I2C1       = 0b0000'0000'0000'0000'0000'0000'0001'0000,
        IO_BANK0   = 0b0000'0000'0000'0000'0000'0000'0010'0000,
        IO_QSPI    = 0b0000'0000'0000'0000'0000'0000'0100'0000,
        JTAG       = 0b0000'0000'0000'0000'0000'0000'1000'0000,
        PADS_BANK0 = 0b0000'0000'0000'0000'0000'0001'0000'0000,
        PADS_QSPI  = 0b0000'0000'0000'0000'0000'0010'0000'0000,
        PIO0       = 0b0000'0000'0000'0000'0000'0100'0000'0000,
        PIO1       = 0b0000'0000'0000'0000'0000'1000'0000'0000,
        PLL_SYS    = 0b0000'0000'0000'0000'0001'0000'0000'0000,
        PLL_USB    = 0b0000'0000'0000'0000'0010'0000'0000'0000,
        PWM        = 0b0000'0000'0000'0000'0100'0000'0000'0000,
        RTC        = 0b0000'0000'0000'0000'1000'0000'0000'0000,
        SPI0       = 0b0000'0000'0000'0001'0000'0000'0000'0000,
        SPI1       = 0b0000'0000'0000'0010'0000'0000'0000'0000,
        SYSCFG     = 0b0000'0000'0000'0100'0000'0000'0000'0000,
        SYSINFO    = 0b0000'0000'0000'1000'0000'0000'0000'0000,
        TBMAN      = 0b0000'0000'0001'0000'0000'0000'0000'0000,
        TIMER      = 0b0000'0000'0010'0000'0000'0000'0000'0000,
        UART0      = 0b0000'0000'0100'0000'0000'0000'0000'0000,
        UART1      = 0b0000'0000'1000'0000'0000'0000'0000'0000,
        USBCTRL    = 0b0000'0001'0000'0000'0000'0000'0000'0000,
    };
};

struct Regs {
    v32  reset;
    v32  watchdog_select;
    cv32 reset_done;
};
} // namespace resets

#define RESETS_REGS (*(resets::Regs*)(RESETS_BASE))
